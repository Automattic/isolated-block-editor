{"version":3,"file":"index.js","names":["flow","withSelect","withDispatch","compose","MenuItem","withSpokenMessages","__","check","FeatureToggle","onToggle","isActive","label","info","messageActivated","messageDeactivated","speak","speakMessage","createElement","icon","isSelected","onClick","role","select","feature","isFeatureActive","dispatch","ownProps","toggleFeature","onClose"],"sources":["../../../../src/components/block-editor-toolbar/toggle-feature/index.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { flow } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { MenuItem, withSpokenMessages } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { check } from '@wordpress/icons';\n\nfunction FeatureToggle( { onToggle, isActive, label, info, messageActivated, messageDeactivated, speak } ) {\n\tconst speakMessage = () => {\n\t\tif ( isActive ) {\n\t\t\tspeak( messageDeactivated || __( 'Feature deactivated' ) );\n\t\t} else {\n\t\t\tspeak( messageActivated || __( 'Feature activated' ) );\n\t\t}\n\t};\n\n\treturn (\n\t\t<MenuItem\n\t\t\ticon={ isActive && check }\n\t\t\tisSelected={ isActive }\n\t\t\tonClick={ flow( onToggle, speakMessage ) }\n\t\t\trole=\"menuitemcheckbox\"\n\t\t\tinfo={ info }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n\n// @ts-ignore\nexport default compose( [\n\twithSelect( ( select, { feature } ) => ( {\n\t\tisActive: select( 'isolated/editor' ).isFeatureActive( feature ),\n\t} ) ),\n\twithDispatch( ( dispatch, ownProps ) => ( {\n\t\tonToggle() {\n\t\t\tdispatch( 'isolated/editor' ).toggleFeature( ownProps.feature );\n\t\t\townProps.onClose();\n\t\t},\n\t} ) ),\n\twithSpokenMessages,\n] )( FeatureToggle );\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,IAAI,QAAQ,QAAQ;;AAE7B;AACA;AACA;AACA,SAASC,UAAU,EAAEC,YAAY,QAAQ,iBAAiB;AAC1D,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,QAAQ,EAAEC,kBAAkB,QAAQ,uBAAuB;AACpE,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,KAAK,QAAQ,kBAAkB;AAExC,SAASC,aAAaA,CAAE;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC,KAAK;EAAEC,IAAI;EAAEC,gBAAgB;EAAEC,kBAAkB;EAAEC;AAAM,CAAC,EAAG;EAC1G,MAAMC,YAAY,GAAGA,CAAA,KAAM;IAC1B,IAAKN,QAAQ,EAAG;MACfK,KAAK,CAAED,kBAAkB,IAAIR,EAAE,CAAE,qBAAsB,CAAE,CAAC;IAC3D,CAAC,MAAM;MACNS,KAAK,CAAEF,gBAAgB,IAAIP,EAAE,CAAE,mBAAoB,CAAE,CAAC;IACvD;EACD,CAAC;EAED,OACCW,aAAA,CAACb,QAAQ;IACRc,IAAI,EAAGR,QAAQ,IAAIH,KAAO;IAC1BY,UAAU,EAAGT,QAAU;IACvBU,OAAO,EAAGpB,IAAI,CAAES,QAAQ,EAAEO,YAAa,CAAG;IAC1CK,IAAI,EAAC,kBAAkB;IACvBT,IAAI,EAAGA;EAAM,GAEXD,KACO,CAAC;AAEb;;AAEA;AACA,eAAeR,OAAO,CAAE,CACvBF,UAAU,CAAE,CAAEqB,MAAM,EAAE;EAAEC;AAAQ,CAAC,MAAQ;EACxCb,QAAQ,EAAEY,MAAM,CAAE,iBAAkB,CAAC,CAACE,eAAe,CAAED,OAAQ;AAChE,CAAC,CAAG,CAAC,EACLrB,YAAY,CAAE,CAAEuB,QAAQ,EAAEC,QAAQ,MAAQ;EACzCjB,QAAQA,CAAA,EAAG;IACVgB,QAAQ,CAAE,iBAAkB,CAAC,CAACE,aAAa,CAAED,QAAQ,CAACH,OAAQ,CAAC;IAC/DG,QAAQ,CAACE,OAAO,CAAC,CAAC;EACnB;AACD,CAAC,CAAG,CAAC,EACLvB,kBAAkB,CACjB,CAAC,CAAEG,aAAc,CAAC"}