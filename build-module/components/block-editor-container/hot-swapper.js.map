{"version":3,"file":"hot-swapper.js","names":["withDispatch","withSelect","compose","useEffect","storeHotSwapPlugin","HotSwapper","isEditing","hotSwap","select","dispatch","ownProps","resetEditor","setEditor"],"sources":["../../../src/components/block-editor-container/hot-swapper.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport storeHotSwapPlugin from '../../store/plugins/store-hot-swap';\n\nfunction HotSwapper( { isEditing, hotSwap } ) {\n\tuseEffect( () => {\n\t\thotSwap( isEditing );\n\t}, [ isEditing ] );\n\n\treturn null;\n}\n\n// @ts-ignore\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { isEditing } = select( 'isolated/editor' );\n\n\t\treturn {\n\t\t\tisEditing: isEditing(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\treturn {\n\t\t\thotSwap: ( isEditing ) => {\n\t\t\t\tstoreHotSwapPlugin.resetEditor();\n\n\t\t\t\tif ( isEditing ) {\n\t\t\t\t\tstoreHotSwapPlugin.setEditor( select, dispatch );\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n] )( HotSwapper );\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAT,EAAuBC,UAAvB,QAAyC,iBAAzC;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,SAAT,QAA0B,oBAA1B;AAEA;AACA;AACA;;AACA,OAAOC,kBAAP,MAA+B,oCAA/B;;AAEA,SAASC,UAAT,OAA8C;EAAA,IAAzB;IAAEC,SAAF;IAAaC;EAAb,CAAyB;EAC7CJ,SAAS,CAAE,MAAM;IAChBI,OAAO,CAAED,SAAF,CAAP;EACA,CAFQ,EAEN,CAAEA,SAAF,CAFM,CAAT;EAIA,OAAO,IAAP;AACA,C,CAED;;;AACA,eAAeJ,OAAO,CAAE,CACvBD,UAAU,CAAIO,MAAF,IAAc;EACzB,MAAM;IAAEF;EAAF,IAAgBE,MAAM,CAAE,iBAAF,CAA5B;EAEA,OAAO;IACNF,SAAS,EAAEA,SAAS;EADd,CAAP;AAGA,CANS,CADa,EAQvBN,YAAY,CAAE,CAAES,QAAF,EAAYC,QAAZ,YAAsC;EAAA,IAAhB;IAAEF;EAAF,CAAgB;EACnD,OAAO;IACND,OAAO,EAAID,SAAF,IAAiB;MACzBF,kBAAkB,CAACO,WAAnB;;MAEA,IAAKL,SAAL,EAAiB;QAChBF,kBAAkB,CAACQ,SAAnB,CAA8BJ,MAA9B,EAAsCC,QAAtC;MACA;IACD;EAPK,CAAP;AASA,CAVW,CARW,CAAF,CAAP,CAmBVJ,UAnBU,CAAf"}