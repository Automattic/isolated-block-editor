{"version":3,"file":"hot-swapper.js","names":["withDispatch","withSelect","compose","useEffect","storeHotSwapPlugin","HotSwapper","_ref","isEditing","hotSwap","select","dispatch","ownProps","_ref2","resetEditor","setEditor"],"sources":["../../../src/components/block-editor-container/hot-swapper.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport storeHotSwapPlugin from '../../store/plugins/store-hot-swap';\n\nfunction HotSwapper( { isEditing, hotSwap } ) {\n\tuseEffect( () => {\n\t\thotSwap( isEditing );\n\t}, [ isEditing ] );\n\n\treturn null;\n}\n\n// @ts-ignore\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { isEditing } = select( 'isolated/editor' );\n\n\t\treturn {\n\t\t\tisEditing: isEditing(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\treturn {\n\t\t\thotSwap: ( isEditing ) => {\n\t\t\t\tstoreHotSwapPlugin.resetEditor();\n\n\t\t\t\tif ( isEditing ) {\n\t\t\t\t\tstoreHotSwapPlugin.setEditor( select, dispatch );\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n] )( HotSwapper );\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,EAAEC,UAAU,QAAQ,iBAAiB;AAC1D,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,SAAS,QAAQ,oBAAoB;;AAE9C;AACA;AACA;AACA,OAAOC,kBAAkB,MAAM,oCAAoC;AAEnE,SAASC,UAAUA,CAAAC,IAAA,EAA2B;EAAA,IAAzB;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAAAF,IAAA;EAC1CH,SAAS,CAAE,MAAM;IAChBK,OAAO,CAAED,SAAS,CAAE;EACrB,CAAC,EAAE,CAAEA,SAAS,CAAE,CAAE;EAElB,OAAO,IAAI;AACZ;;AAEA;AACA,eAAeL,OAAO,CAAE,CACvBD,UAAU,CAAIQ,MAAM,IAAM;EACzB,MAAM;IAAEF;EAAU,CAAC,GAAGE,MAAM,CAAE,iBAAiB,CAAE;EAEjD,OAAO;IACNF,SAAS,EAAEA,SAAS;EACrB,CAAC;AACF,CAAC,CAAE,EACHP,YAAY,CAAE,CAAEU,QAAQ,EAAEC,QAAQ,EAAAC,KAAA,KAAkB;EAAA,IAAhB;IAAEH;EAAO,CAAC,GAAAG,KAAA;EAC7C,OAAO;IACNJ,OAAO,EAAID,SAAS,IAAM;MACzBH,kBAAkB,CAACS,WAAW,EAAE;MAEhC,IAAKN,SAAS,EAAG;QAChBH,kBAAkB,CAACU,SAAS,CAAEL,MAAM,EAAEC,QAAQ,CAAE;MACjD;IACD;EACD,CAAC;AACF,CAAC,CAAE,CACH,CAAE,CAAEL,UAAU,CAAE"}