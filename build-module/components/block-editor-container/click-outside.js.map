{"version":3,"file":"click-outside.js","names":["Component","withFocusOutside","ClickOutsideWrapper","contextType","handleFocus","ev","props","onFocus","isInspectorElement","element","closest","classList","contains","handleFocusOutside","target","relatedTarget","onOutside","render","children"],"sources":["../../../src/components/block-editor-container/click-outside.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\n\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport withFocusOutside from './with-focus-outside.js';\n\nconst ClickOutsideWrapper = withFocusOutside(\n\t// @ts-ignore\n\tclass extends Component {\n\t\tstatic contextType;\n\n\t\thandleFocus( ev ) {\n\t\t\tthis.props.onFocus();\n\t\t}\n\n\t\t// Clicks in the media modal or popup components are considered in the editor\n\t\tisInspectorElement( element ) {\n\t\t\t// Inside a colour picker popover\n\t\t\tif ( element.closest( '.components-color-picker' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Inside the inspector\n\t\t\tif ( element.closest( '.block-editor-block-inspector' ) || element.closest( '.iso-inspector' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// In the media modal\n\t\t\tif ( element.classList.contains( 'media-modal' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\thandleFocusOutside( ev ) {\n\t\t\tconst target = ev.relatedTarget || ev.target;\n\n\t\t\tif ( target && this.isInspectorElement( target ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.props.onOutside();\n\t\t}\n\n\t\trender() {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n);\n\nexport default ClickOutsideWrapper;\n"],"mappings":"AAAA;AACA;AACA;;AAEA,SAASA,SAAS,QAAQ,oBAAoB;;AAE9C;AACA;AACA;AACA,OAAOC,gBAAgB,MAAM,yBAAyB;AAEtD,MAAMC,mBAAmB,GAAGD,gBAAgB;AAC3C;AACA,cAAcD,SAAS,CAAC;EACvB,OAAOG,WAAW;EAElBC,WAAW,CAAEC,EAAE,EAAG;IACjB,IAAI,CAACC,KAAK,CAACC,OAAO,EAAE;EACrB;;EAEA;EACAC,kBAAkB,CAAEC,OAAO,EAAG;IAC7B;IACA,IAAKA,OAAO,CAACC,OAAO,CAAE,0BAA0B,CAAE,EAAG;MACpD,OAAO,IAAI;IACZ;;IAEA;IACA,IAAKD,OAAO,CAACC,OAAO,CAAE,+BAA+B,CAAE,IAAID,OAAO,CAACC,OAAO,CAAE,gBAAgB,CAAE,EAAG;MAChG,OAAO,IAAI;IACZ;;IAEA;IACA,IAAKD,OAAO,CAACE,SAAS,CAACC,QAAQ,CAAE,aAAa,CAAE,EAAG;MAClD,OAAO,IAAI;IACZ;IAEA,OAAO,KAAK;EACb;EAEAC,kBAAkB,CAAER,EAAE,EAAG;IACxB,MAAMS,MAAM,GAAGT,EAAE,CAACU,aAAa,IAAIV,EAAE,CAACS,MAAM;IAE5C,IAAKA,MAAM,IAAI,IAAI,CAACN,kBAAkB,CAAEM,MAAM,CAAE,EAAG;MAClD;IACD;IAEA,IAAI,CAACR,KAAK,CAACU,SAAS,EAAE;EACvB;EAEAC,MAAM,GAAG;IACR,OAAO,IAAI,CAACX,KAAK,CAACY,QAAQ;EAC3B;AACD,CAAC,CACD;AAED,eAAehB,mBAAmB"}