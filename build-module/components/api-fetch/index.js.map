{"version":3,"file":"index.js","names":["apiFetch","getPost","body","id","type","getTypes","post","capabilities","edit_post","description","hierarchical","viewable","name","slug","labels","singular_name","supports","title","editor","author","thumbnail","excerpt","trackbacks","comments","revisions","taxonomies","rest_base","registerApiHandlers","options","preload","OPTIONS","use","createPreloadingMiddleware"],"sources":["../../../src/components/api-fetch/index.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\n\nimport apiFetch from '@wordpress/api-fetch';\n\nfunction getPost() {\n\treturn {\n\t\tbody: {\n\t\t\tid: 0,\n\t\t\ttype: 'post',\n\t\t},\n\t};\n}\n\n// Enough data for Gutenberg to work\nfunction getTypes() {\n\treturn {\n\t\tbody: {\n\t\t\tpost: {\n\t\t\t\tcapabilities: {\n\t\t\t\t\tedit_post: 'edit_post',\n\t\t\t\t},\n\t\t\t\tdescription: '',\n\t\t\t\thierarchical: false,\n\t\t\t\tviewable: true,\n\t\t\t\tname: 'Posts',\n\t\t\t\tslug: 'post',\n\t\t\t\tlabels: {\n\t\t\t\t\tname: 'Posts',\n\t\t\t\t\tsingular_name: 'Post',\n\t\t\t\t},\n\t\t\t\tsupports: {\n\t\t\t\t\ttitle: false,\n\t\t\t\t\teditor: true,\n\t\t\t\t\tauthor: false,\n\t\t\t\t\tthumbnail: false,\n\t\t\t\t\texcerpt: false,\n\t\t\t\t\ttrackbacks: false,\n\t\t\t\t\t'custom-fields': false,\n\t\t\t\t\tcomments: false,\n\t\t\t\t\trevisions: false,\n\t\t\t\t\t'post-formats': false,\n\t\t\t\t\t'geo-location': false,\n\t\t\t\t},\n\t\t\t\ttaxonomies: [],\n\t\t\t\trest_base: 'posts',\n\t\t\t},\n\t\t},\n\t};\n}\n\n// Provide some basic API preloading. This oils the Gutenberg wheels and allows certain operations to happen without making an external request\nfunction registerApiHandlers( options ) {\n\tconst preload = {\n\t\tOPTIONS: {\n\t\t\t// Reusable blocks\n\t\t\t'/wp/v2/blocks': {\n\t\t\t\tbody: [],\n\t\t\t},\n\t\t},\n\t\t'/wp/v2/types?context=view': getTypes(),\n\t\t'/wp/v2/types?context=edit': getTypes(),\n\t\t'/wp/v2/posts/0?context=edit': getPost(),\n\t\t'/wp/v2/posts?context=edit': getPost(),\n\t};\n\n\tapiFetch.use( apiFetch.createPreloadingMiddleware( preload ) );\n}\n\nexport default registerApiHandlers;\n"],"mappings":"AAAA;AACA;AACA;;AAEA,OAAOA,QAAQ,MAAM,sBAAsB;AAE3C,SAASC,OAAOA,CAAA,EAAG;EAClB,OAAO;IACNC,IAAI,EAAE;MACLC,EAAE,EAAE,CAAC;MACLC,IAAI,EAAE;IACP;EACD,CAAC;AACF;;AAEA;AACA,SAASC,QAAQA,CAAA,EAAG;EACnB,OAAO;IACNH,IAAI,EAAE;MACLI,IAAI,EAAE;QACLC,YAAY,EAAE;UACbC,SAAS,EAAE;QACZ,CAAC;QACDC,WAAW,EAAE,EAAE;QACfC,YAAY,EAAE,KAAK;QACnBC,QAAQ,EAAE,IAAI;QACdC,IAAI,EAAE,OAAO;QACbC,IAAI,EAAE,MAAM;QACZC,MAAM,EAAE;UACPF,IAAI,EAAE,OAAO;UACbG,aAAa,EAAE;QAChB,CAAC;QACDC,QAAQ,EAAE;UACTC,KAAK,EAAE,KAAK;UACZC,MAAM,EAAE,IAAI;UACZC,MAAM,EAAE,KAAK;UACbC,SAAS,EAAE,KAAK;UAChBC,OAAO,EAAE,KAAK;UACdC,UAAU,EAAE,KAAK;UACjB,eAAe,EAAE,KAAK;UACtBC,QAAQ,EAAE,KAAK;UACfC,SAAS,EAAE,KAAK;UAChB,cAAc,EAAE,KAAK;UACrB,cAAc,EAAE;QACjB,CAAC;QACDC,UAAU,EAAE,EAAE;QACdC,SAAS,EAAE;MACZ;IACD;EACD,CAAC;AACF;;AAEA;AACA,SAASC,mBAAmBA,CAAEC,OAAO,EAAG;EACvC,MAAMC,OAAO,GAAG;IACfC,OAAO,EAAE;MACR;MACA,eAAe,EAAE;QAChB5B,IAAI,EAAE;MACP;IACD,CAAC;IACD,2BAA2B,EAAEG,QAAQ,EAAE;IACvC,2BAA2B,EAAEA,QAAQ,EAAE;IACvC,6BAA6B,EAAEJ,OAAO,EAAE;IACxC,2BAA2B,EAAEA,OAAO;EACrC,CAAC;EAEDD,QAAQ,CAAC+B,GAAG,CAAE/B,QAAQ,CAACgC,0BAA0B,CAAEH,OAAO,CAAE,CAAE;AAC/D;AAEA,eAAeF,mBAAmB"}