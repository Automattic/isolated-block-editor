{"version":3,"file":"listview-sidebar.js","names":["__experimentalListView","ListView","store","blockEditorStore","Button","useFocusOnMount","useFocusReturn","useInstanceId","useMergeRefs","useDispatch","__","closeSmall","ESCAPE","ListViewSidebar","setIsListViewOpened","clearSelectedBlock","selectBlock","selectEditorBlock","clientId","focusOnMountRef","focusReturnRef","closeOnEscape","event","keyCode","defaultPrevented","preventDefault","instanceId","labelId"],"sources":["../../../src/components/block-editor/listview-sidebar.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __experimentalListView as ListView, store as blockEditorStore } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport { useFocusOnMount, useFocusReturn, useInstanceId, useMergeRefs } from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { closeSmall } from '@wordpress/icons';\nimport { ESCAPE } from '@wordpress/keycodes';\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( 'isolated/editor' );\n\n\tconst { clearSelectedBlock, selectBlock } = useDispatch( blockEditorStore );\n\tasync function selectEditorBlock( clientId ) {\n\t\tawait clearSelectedBlock();\n\t\tselectBlock( clientId, -1 );\n\t}\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\tconst focusReturnRef = useFocusReturn();\n\tfunction closeOnEscape( event ) {\n\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\tevent.preventDefault();\n\t\t\tsetIsListViewOpened( false );\n\t\t}\n\t}\n\n\tconst instanceId = useInstanceId( ListViewSidebar );\n\tconst labelId = `edit-post-editor__list-view-panel-label-${ instanceId }`;\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div aria-labelledby={ labelId } className=\"edit-post-editor__list-view-panel\" onKeyDown={ closeOnEscape }>\n\t\t\t<div className=\"edit-post-editor__list-view-panel-header\">\n\t\t\t\t<strong id={ labelId }>{ __( 'List view' ) }</strong>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close list view sidebar' ) }\n\t\t\t\t\tonClick={ () => setIsListViewOpened( false ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-post-editor__list-view-panel-content\"\n\t\t\t\tref={ useMergeRefs( [ focusReturnRef, focusOnMountRef ] ) }\n\t\t\t>\n\t\t\t\t<ListView onSelect={ selectEditorBlock } showNestedBlocks __experimentalPersistentListViewFeatures />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,sBAAsB,IAAIC,QAAQ,EAAEC,KAAK,IAAIC,gBAAgB,QAAQ,yBAAyB;AACvG,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,eAAe,EAAEC,cAAc,EAAEC,aAAa,EAAEC,YAAY,QAAQ,oBAAoB;AACjG,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,MAAM,QAAQ,qBAAqB;AAE5C,eAAe,SAASC,eAAe,GAAG;EACzC,MAAM;IAAEC;EAAoB,CAAC,GAAGL,WAAW,CAAE,iBAAiB,CAAE;EAEhE,MAAM;IAAEM,kBAAkB;IAAEC;EAAY,CAAC,GAAGP,WAAW,CAAEN,gBAAgB,CAAE;EAC3E,eAAec,iBAAiB,CAAEC,QAAQ,EAAG;IAC5C,MAAMH,kBAAkB,EAAE;IAC1BC,WAAW,CAAEE,QAAQ,EAAE,CAAC,CAAC,CAAE;EAC5B;EAEA,MAAMC,eAAe,GAAGd,eAAe,CAAE,cAAc,CAAE;EACzD,MAAMe,cAAc,GAAGd,cAAc,EAAE;EACvC,SAASe,aAAa,CAAEC,KAAK,EAAG;IAC/B,IAAKA,KAAK,CAACC,OAAO,KAAKX,MAAM,IAAI,CAAEU,KAAK,CAACE,gBAAgB,EAAG;MAC3DF,KAAK,CAACG,cAAc,EAAE;MACtBX,mBAAmB,CAAE,KAAK,CAAE;IAC7B;EACD;EAEA,MAAMY,UAAU,GAAGnB,aAAa,CAAEM,eAAe,CAAE;EACnD,MAAMc,OAAO,GAAI,2CAA2CD,UAAY,EAAC;EAEzE;IACC;IACA;MAAK,mBAAkBC,OAAS;MAAC,SAAS,EAAC,mCAAmC;MAAC,SAAS,EAAGN;IAAe,GACzG;MAAK,SAAS,EAAC;IAA0C,GACxD;MAAQ,EAAE,EAAGM;IAAS,GAAGjB,EAAE,CAAE,WAAW,CAAE,CAAW,EACrD,cAAC,MAAM;MACN,IAAI,EAAGC,UAAY;MACnB,KAAK,EAAGD,EAAE,CAAE,yBAAyB,CAAI;MACzC,OAAO,EAAG,MAAMI,mBAAmB,CAAE,KAAK;IAAI,EAC7C,CACG,EACN;MACC,SAAS,EAAC,2CAA2C;MACrD,GAAG,EAAGN,YAAY,CAAE,CAAEY,cAAc,EAAED,eAAe,CAAE;IAAI,GAE3D,cAAC,QAAQ;MAAC,QAAQ,EAAGF,iBAAmB;MAAC,gBAAgB;MAAC,wCAAwC;IAAA,EAAG,CAChG;EACD;AAER"}