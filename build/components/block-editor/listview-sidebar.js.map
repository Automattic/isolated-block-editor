{"version":3,"file":"listview-sidebar.js","names":["ListViewSidebar","useDispatch","setIsListViewOpened","blockEditorStore","clearSelectedBlock","selectBlock","selectEditorBlock","clientId","focusOnMountRef","useFocusOnMount","focusReturnRef","useFocusReturn","closeOnEscape","event","keyCode","ESCAPE","defaultPrevented","preventDefault","instanceId","useInstanceId","labelId","__","closeSmall","useMergeRefs"],"sources":["../../../src/components/block-editor/listview-sidebar.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __experimentalListView as ListView, store as blockEditorStore } from '@wordpress/block-editor';\nimport { Button } from '@wordpress/components';\nimport { useFocusOnMount, useFocusReturn, useInstanceId, useMergeRefs } from '@wordpress/compose';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { closeSmall } from '@wordpress/icons';\nimport { ESCAPE } from '@wordpress/keycodes';\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( 'isolated/editor' );\n\n\tconst { clearSelectedBlock, selectBlock } = useDispatch( blockEditorStore );\n\tasync function selectEditorBlock( clientId ) {\n\t\tawait clearSelectedBlock();\n\t\tselectBlock( clientId, -1 );\n\t}\n\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\tconst focusReturnRef = useFocusReturn();\n\tfunction closeOnEscape( event ) {\n\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\tevent.preventDefault();\n\t\t\tsetIsListViewOpened( false );\n\t\t}\n\t}\n\n\tconst instanceId = useInstanceId( ListViewSidebar );\n\tconst labelId = `edit-post-editor__list-view-panel-label-${ instanceId }`;\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div aria-labelledby={ labelId } className=\"edit-post-editor__list-view-panel\" onKeyDown={ closeOnEscape }>\n\t\t\t<div className=\"edit-post-editor__list-view-panel-header\">\n\t\t\t\t<strong id={ labelId }>{ __( 'List view' ) }</strong>\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close list view sidebar' ) }\n\t\t\t\t\tonClick={ () => setIsListViewOpened( false ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"edit-post-editor__list-view-panel-content\"\n\t\t\t\tref={ useMergeRefs( [ focusReturnRef, focusOnMountRef ] ) }\n\t\t\t>\n\t\t\t\t<ListView onSelect={ selectEditorBlock } showNestedBlocks __experimentalPersistentListViewFeatures />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"mappings":";;;;;;;;;;;;;AAGA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AATA;AACA;AACA;AASe,SAASA,eAAT,GAA2B;EACzC,mBAAgC,IAAAC,iBAAA,EAAa,iBAAb,CAAhC;EAAA,IAAQC,mBAAR,gBAAQA,mBAAR;;EAEA,oBAA4C,IAAAD,iBAAA,EAAaE,kBAAb,CAA5C;EAAA,IAAQC,kBAAR,iBAAQA,kBAAR;EAAA,IAA4BC,WAA5B,iBAA4BA,WAA5B;;EAHyC,SAI1BC,iBAJ0B;IAAA;EAAA;;EAAA;IAAA,mGAIzC,iBAAkCC,QAAlC;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACOH,kBAAkB,EADzB;;YAAA;cAECC,WAAW,CAAEE,QAAF,EAAY,CAAC,CAAb,CAAX;;YAFD;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAJyC;IAAA;EAAA;;EASzC,IAAMC,eAAe,GAAG,IAAAC,wBAAA,EAAiB,cAAjB,CAAxB;EACA,IAAMC,cAAc,GAAG,IAAAC,uBAAA,GAAvB;;EACA,SAASC,aAAT,CAAwBC,KAAxB,EAAgC;IAC/B,IAAKA,KAAK,CAACC,OAAN,KAAkBC,gBAAlB,IAA4B,CAAEF,KAAK,CAACG,gBAAzC,EAA4D;MAC3DH,KAAK,CAACI,cAAN;MACAf,mBAAmB,CAAE,KAAF,CAAnB;IACA;EACD;;EAED,IAAMgB,UAAU,GAAG,IAAAC,sBAAA,EAAenB,eAAf,CAAnB;EACA,IAAMoB,OAAO,qDAA+CF,UAA/C,CAAb;EAEA,OACC;IACA;MAAK,mBAAkBE,OAAvB;MAAiC,SAAS,EAAC,mCAA3C;MAA+E,SAAS,EAAGR;IAA3F,GACC;MAAK,SAAS,EAAC;IAAf,GACC;MAAQ,EAAE,EAAGQ;IAAb,GAAyB,IAAAC,QAAA,EAAI,WAAJ,CAAzB,CADD,EAEC,cAAC,kBAAD;MACC,IAAI,EAAGC,iBADR;MAEC,KAAK,EAAG,IAAAD,QAAA,EAAI,yBAAJ,CAFT;MAGC,OAAO,EAAG;QAAA,OAAMnB,mBAAmB,CAAE,KAAF,CAAzB;MAAA;IAHX,EAFD,CADD,EASC;MACC,SAAS,EAAC,2CADX;MAEC,GAAG,EAAG,IAAAqB,qBAAA,EAAc,CAAEb,cAAF,EAAkBF,eAAlB,CAAd;IAFP,GAIC,cAAC,mCAAD;MAAU,QAAQ,EAAGF,iBAArB;MAAyC,gBAAgB,MAAzD;MAA0D,wCAAwC;IAAlG,EAJD,CATD;EAFD;AAmBA"}