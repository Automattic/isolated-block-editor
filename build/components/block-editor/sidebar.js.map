{"version":3,"file":"sidebar.js","names":["_blockEditor","require","_icons","_keyboardShortcuts","_interface","_element","_components","_i18n","_data","_sidebarHeading","_interopRequireWildcard","_document","_interopRequireDefault","_complementaryArea","_unlock2","createElement","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_unlock","unlock","componentsPrivateApis","Tabs","isActiveArea","area","sidebars","document","block","includes","SettingsSidebarInternal","_ref","documentInspector","keyboardShortcut","sidebarName","tabsContextValue","useContext","Context","className","identifier","header","Provider","value","closeLabel","__","headerClassName","title","toggleShortcut","icon","cog","isActiveByDefault","TabPanel","tabId","focusable","Slot","BlockInspector","SettingsSidebar","_ref2","_useSelect","useSelect","select","sidebar","interfaceStore","getActiveComplementaryArea","isSettingsSidebar","blockEditorStore","getBlockSelectionStart","shortcut","keyboardShortcutsStore","getShortcutRepresentation","isSettingsSidebarActive","_useDispatch","useDispatch","onTabSelect","openGeneralSidebar","selectedTabId","onSelect","_default","exports"],"sources":["../../../src/components/block-editor/sidebar.js"],"sourcesContent":["// @ts-nocheck\n/**\n * WordPress dependencies\n */\nimport { BlockInspector, store as blockEditorStore } from '@wordpress/block-editor';\nimport { cog } from '@wordpress/icons';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { store as interfaceStore } from '@wordpress/interface';\nimport { useContext } from '@wordpress/element';\nimport {privateApis as componentsPrivateApis} from \"@wordpress/components\";\n\n/**\n * Internal dependencies\n */\n\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {default as SettingsHeader, sidebars} from './sidebar-heading';\nimport Document from '../document';\nimport ComplementaryArea from '../complementary-area';\nimport { unlock } from './unlock';\n\nconst { Tabs } = unlock( componentsPrivateApis );\n\nfunction isActiveArea( area ) {\n\treturn [ sidebars.document, sidebars.block ].includes( area )\n}\n\nconst SettingsSidebarInternal = ( { documentInspector, keyboardShortcut, sidebarName } ) => {\n\t// Because of the `ComplementaryArea`, we\n\t// need to forward the `Tabs` context so it can be passed through the\n\t// underlying slot/fill.\n\tconst tabsContextValue = useContext( Tabs.Context );\n\n\treturn (\n\t\t<ComplementaryArea\n\t\t\tclassName=\"iso-sidebar\"\n\t\t\tidentifier={ sidebarName }\n\t\t\theader={\n\t\t\t\t<Tabs.Context.Provider value={ tabsContextValue }>\n\t\t\t\t\t<SettingsHeader documentInspector={ documentInspector } />\n\t\t\t\t</Tabs.Context.Provider> }\n\t\t\tcloseLabel={ __( 'Close settings' ) }\n\t\t\theaderClassName=\"edit-post-sidebar__panel-tabs\"\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\ttitle={ __( 'Settings' ) }\n\t\t\ttoggleShortcut={ keyboardShortcut }\n\t\t\ticon={ cog }\n\t\t\tisActiveByDefault={ false }\n\t\t>\n\t\t\t<Tabs.Context.Provider value={ tabsContextValue }>\n\t\t\t\t<Tabs.TabPanel tabId={ sidebars.document } focusable={ false }>\n\t\t\t\t\t<Document.Slot />\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t\t<Tabs.TabPanel tabId={ sidebars.block } focusable={ false }>\n\t\t\t\t\t<BlockInspector />\n\t\t\t\t</Tabs.TabPanel>\n\t\t\t</Tabs.Context.Provider>\n\t\t</ComplementaryArea>\n\t);\n};\n\nconst SettingsSidebar = ( { documentInspector } ) => {\n\tconst { sidebarName, keyboardShortcut, isSettingsSidebarActive } = useSelect( ( select ) => {\n\t\tlet sidebar = select( interfaceStore ).getActiveComplementaryArea( 'isolated/editor' );\n\n\t\tlet isSettingsSidebar = true;\n\t\tif ( ! isActiveArea( sidebar ) ) {\n\t\t\tisSettingsSidebar = false;\n\t\t\tif ( select( blockEditorStore ).getBlockSelectionStart() ) {\n\t\t\t\tsidebar = sidebars.block;\n\t\t\t}\n\t\t\tsidebar = sidebars.document;\n\t\t}\n\n\t\tconst shortcut = select( keyboardShortcutsStore ).getShortcutRepresentation( 'core/edit-post/toggle-sidebar' );\n\t\treturn {\n\t\t\tsidebarName: sidebar,\n\t\t\tkeyboardShortcut: shortcut,\n\t\t\tisSettingsSidebarActive: isSettingsSidebar,\n\t\t};\n\t}, [] );\n\n\tconst { openGeneralSidebar: onTabSelect } = useDispatch( 'isolated/editor' );\n\n\treturn <Tabs\n\t\t// Due to how this component is controlled (via a value from the\n\t\t// `interfaceStore`), when the sidebar closes the currently selected\n\t\t// tab can't be found. This causes the component to continuously reset\n\t\t// the selection to `null` in an infinite loop.Proactively setting\n\t\t// the selected tab to `null` avoids that.\n\t\tselectedTabId={ isSettingsSidebarActive ? sidebarName : null }\n\t\tonSelect={ onTabSelect }\n\t>\n\t\t<SettingsSidebarInternal documentInspector={ documentInspector }  keyboardShortcut={keyboardShortcut} sidebarName={sidebarName}/>\n\t</Tabs>;\n}\n\nexport default SettingsSidebar;\n"],"mappings":"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"}