{"version":3,"file":"undo.js","names":["_i18n","require","_components","_data","_keycodes","_icons","_element","createElement","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","defineProperty","EditorHistoryUndo","props","ref","hasUndo","useSelect","select","hasEditorUndo","_useDispatch","useDispatch","undo","Button","icon","undoIcon","label","__","shortcut","displayShortcut","primary","onClick","undefined","className","_default","exports","forwardRef"],"sources":["../../../../src/components/block-editor-toolbar/header-toolbar/undo.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { undo as undoIcon } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\n\nfunction EditorHistoryUndo( props, ref ) {\n\t// @ts-ignore\n\tconst hasUndo = useSelect( ( select ) => select( 'isolated/editor' ).hasEditorUndo(), [] );\n\tconst { undo } = useDispatch( 'isolated/editor' );\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ undoIcon }\n\t\t\tlabel={ __( 'Undo' ) }\n\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasUndo }\n\t\t\tonClick={ hasUndo ? undo : undefined }\n\t\t\tclassName=\"editor-history__undo\"\n\t\t/>\n\t);\n}\n\nexport default forwardRef( EditorHistoryUndo );\n"],"mappings":";;;;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AACA,IAAAK,QAAA,GAAAL,OAAA;AAAgD,SAAAM,aAAA;AAAA,SAAAC,QAAAC,CAAA,EAAAC,CAAA,QAAAC,CAAA,GAAAC,MAAA,CAAAC,IAAA,CAAAJ,CAAA,OAAAG,MAAA,CAAAE,qBAAA,QAAAC,CAAA,GAAAH,MAAA,CAAAE,qBAAA,CAAAL,CAAA,GAAAC,CAAA,KAAAK,CAAA,GAAAA,CAAA,CAAAC,MAAA,WAAAN,CAAA,WAAAE,MAAA,CAAAK,wBAAA,CAAAR,CAAA,EAAAC,CAAA,EAAAQ,UAAA,OAAAP,CAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,CAAA,EAAAI,CAAA,YAAAJ,CAAA;AAAA,SAAAU,cAAAZ,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAY,SAAA,CAAAC,MAAA,EAAAb,CAAA,UAAAC,CAAA,WAAAW,SAAA,CAAAZ,CAAA,IAAAY,SAAA,CAAAZ,CAAA,QAAAA,CAAA,OAAAF,OAAA,CAAAI,MAAA,CAAAD,CAAA,OAAAa,OAAA,WAAAd,CAAA,QAAAe,gBAAA,aAAAhB,CAAA,EAAAC,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAE,MAAA,CAAAc,yBAAA,GAAAd,MAAA,CAAAe,gBAAA,CAAAlB,CAAA,EAAAG,MAAA,CAAAc,yBAAA,CAAAf,CAAA,KAAAH,OAAA,CAAAI,MAAA,CAAAD,CAAA,GAAAa,OAAA,WAAAd,CAAA,IAAAE,MAAA,CAAAgB,cAAA,CAAAnB,CAAA,EAAAC,CAAA,EAAAE,MAAA,CAAAK,wBAAA,CAAAN,CAAA,EAAAD,CAAA,iBAAAD,CAAA,IARhD;AACA;AACA;AAQA,SAASoB,iBAAiBA,CAAEC,KAAK,EAAEC,GAAG,EAAG;EACxC;EACA,IAAMC,OAAO,GAAG,IAAAC,eAAS,EAAE,UAAEC,MAAM;IAAA,OAAMA,MAAM,CAAE,iBAAkB,CAAC,CAACC,aAAa,CAAC,CAAC;EAAA,GAAE,EAAG,CAAC;EAC1F,IAAAC,YAAA,GAAiB,IAAAC,iBAAW,EAAE,iBAAkB,CAAC;IAAzCC,IAAI,GAAAF,YAAA,CAAJE,IAAI;EACZ,OACC/B,aAAA,CAACL,WAAA,CAAAqC,MAAM,EAAAlB,aAAA,CAAAA,aAAA,KACDS,KAAK;IACVC,GAAG,EAAGA,GAAK;IACXS,IAAI,EAAGC,WAAU;IACjBC,KAAK,EAAG,IAAAC,QAAE,EAAE,MAAO,CAAG;IACtBC,QAAQ,EAAGC,yBAAe,CAACC,OAAO,CAAE,GAAI;IACxC;IACA;IACA;IAAA;IACA,iBAAgB,CAAEd,OAAS;IAC3Be,OAAO,EAAGf,OAAO,GAAGM,IAAI,GAAGU,SAAW;IACtCC,SAAS,EAAC;EAAsB,EAChC,CAAC;AAEJ;AAAC,IAAAC,QAAA,GAAAC,OAAA,cAEc,IAAAC,mBAAU,EAAEvB,iBAAkB,CAAC"}