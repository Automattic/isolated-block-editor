{"version":3,"file":"click-outside.js","names":["ClickOutsideWrapper","withFocusOutside","ev","props","onFocus","element","closest","classList","contains","target","relatedTarget","isInspectorElement","onOutside","children","Component"],"sources":["../../../src/components/block-editor-container/click-outside.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\n\nimport { Component } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport withFocusOutside from './with-focus-outside.js';\n\nconst ClickOutsideWrapper = withFocusOutside(\n\tclass extends Component {\n\t\thandleFocus( ev ) {\n\t\t\tthis.props.onFocus();\n\t\t}\n\n\t\t// Clicks in the media modal or popup components are considered in the editor\n\t\tisInspectorElement( element ) {\n\t\t\t// Inside a colour picker popover\n\t\t\tif ( element.closest( '.components-color-picker' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Inside the inspector\n\t\t\tif ( element.closest( '.block-editor-block-inspector' ) || element.closest( '.iso-inspector' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// In the media modal\n\t\t\tif ( element.classList.contains( 'media-modal' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\thandleFocusOutside( ev ) {\n\t\t\tconst target = ev.relatedTarget || ev.target;\n\n\t\t\tif ( target && this.isInspectorElement( target ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.props.onOutside();\n\t\t}\n\n\t\trender() {\n\t\t\treturn this.props.children;\n\t\t}\n\t}\n);\n\nexport default ClickOutsideWrapper;\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;;AAKA;;;;;;AAEA,IAAMA,mBAAmB,GAAG,IAAAC,4BAAA;EAAA;;EAAA;;EAAA;IAAA;IAAA;EAAA;;EAAA;IAAA;IAAA,OAE1B,qBAAaC,EAAb,EAAkB;MACjB,KAAKC,KAAL,CAAWC,OAAX;IACA,CAJyB,CAM1B;;EAN0B;IAAA;IAAA,OAO1B,4BAAoBC,OAApB,EAA8B;MAC7B;MACA,IAAKA,OAAO,CAACC,OAAR,CAAiB,0BAAjB,CAAL,EAAqD;QACpD,OAAO,IAAP;MACA,CAJ4B,CAM7B;;;MACA,IAAKD,OAAO,CAACC,OAAR,CAAiB,+BAAjB,KAAsDD,OAAO,CAACC,OAAR,CAAiB,gBAAjB,CAA3D,EAAiG;QAChG,OAAO,IAAP;MACA,CAT4B,CAW7B;;;MACA,IAAKD,OAAO,CAACE,SAAR,CAAkBC,QAAlB,CAA4B,aAA5B,CAAL,EAAmD;QAClD,OAAO,IAAP;MACA;;MAED,OAAO,KAAP;IACA;EAxByB;IAAA;IAAA,OA0B1B,4BAAoBN,EAApB,EAAyB;MACxB,IAAMO,MAAM,GAAGP,EAAE,CAACQ,aAAH,IAAoBR,EAAE,CAACO,MAAtC;;MAEA,IAAKA,MAAM,IAAI,KAAKE,kBAAL,CAAyBF,MAAzB,CAAf,EAAmD;QAClD;MACA;;MAED,KAAKN,KAAL,CAAWS,SAAX;IACA;EAlCyB;IAAA;IAAA,OAoC1B,kBAAS;MACR,OAAO,KAAKT,KAAL,CAAWU,QAAlB;IACA;EAtCyB;EAAA;AAAA,EACbC,kBADa,EAA5B;eA0Ced,mB"}