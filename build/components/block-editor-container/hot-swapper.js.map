{"version":3,"file":"hot-swapper.js","names":["HotSwapper","isEditing","hotSwap","useEffect","compose","withSelect","select","withDispatch","dispatch","ownProps","storeHotSwapPlugin","resetEditor","setEditor"],"sources":["../../../src/components/block-editor-container/hot-swapper.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport storeHotSwapPlugin from '../../store/plugins/store-hot-swap';\n\nfunction HotSwapper( { isEditing, hotSwap } ) {\n\tuseEffect( () => {\n\t\thotSwap( isEditing );\n\t}, [ isEditing ] );\n\n\treturn null;\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { isEditing } = select( 'isolated/editor' );\n\n\t\treturn {\n\t\t\tisEditing: isEditing(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\treturn {\n\t\t\thotSwap: ( isEditing ) => {\n\t\t\t\tstoreHotSwapPlugin.resetEditor();\n\n\t\t\t\tif ( isEditing ) {\n\t\t\t\t\tstoreHotSwapPlugin.setEditor( select, dispatch );\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n] )( HotSwapper );\n"],"mappings":";;;;;;;;;AAGA;;AACA;;AACA;;AAKA;;AAVA;AACA;AACA;;AAKA;AACA;AACA;AAGA,SAASA,UAAT,OAA8C;EAAA,IAAvBC,SAAuB,QAAvBA,SAAuB;EAAA,IAAZC,OAAY,QAAZA,OAAY;EAC7C,IAAAC,kBAAA,EAAW,YAAM;IAChBD,OAAO,CAAED,SAAF,CAAP;EACA,CAFD,EAEG,CAAEA,SAAF,CAFH;EAIA,OAAO,IAAP;AACA;;eAEc,IAAAG,gBAAA,EAAS,CACvB,IAAAC,gBAAA,EAAY,UAAEC,MAAF,EAAc;EACzB,cAAsBA,MAAM,CAAE,iBAAF,CAA5B;EAAA,IAAQL,SAAR,WAAQA,SAAR;;EAEA,OAAO;IACNA,SAAS,EAAEA,SAAS;EADd,CAAP;AAGA,CAND,CADuB,EAQvB,IAAAM,kBAAA,EAAc,UAAEC,QAAF,EAAYC,QAAZ,SAAsC;EAAA,IAAdH,MAAc,SAAdA,MAAc;EACnD,OAAO;IACNJ,OAAO,EAAE,iBAAED,SAAF,EAAiB;MACzBS,wBAAA,CAAmBC,WAAnB;;MAEA,IAAKV,SAAL,EAAiB;QAChBS,wBAAA,CAAmBE,SAAnB,CAA8BN,MAA9B,EAAsCE,QAAtC;MACA;IACD;EAPK,CAAP;AASA,CAVD,CARuB,CAAT,EAmBVR,UAnBU,C"}